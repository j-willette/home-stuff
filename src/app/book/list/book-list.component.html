<mat-toolbar>
    <button mat-icon-button (click)="back()" *ngIf="serieView">
        <mat-icon aria-label="Retour à la bibliothèque">navigate_before</mat-icon>
    </button>

    <mat-nav-list *ngIf="responsive.isLargeScreen">
        <a mat-list-item routerLinkActive="active" routerLink="/books" [routerLinkActiveOptions]="{exact:true}">Tous</a>
        <a mat-list-item routerLinkActive="active" *ngFor="let group of groups;" routerLink="/books/{{ group | lowercase }}">{{ group }}</a>
    </mat-nav-list>

    <div *ngIf="!responsive.isLargeScreen" class="mobile-filters">
        <mat-menu #appMenu="matMenu">
            <a mat-menu-item routerLinkActive="active" routerLink="/books" [routerLinkActiveOptions]="{exact:true}">Tous</a>
            <a mat-menu-item routerLinkActive="active" *ngFor="let group of groups;" routerLink="/books/{{ group | lowercase }}">{{ group }}</a>
        </mat-menu>

        <button mat-icon-button [matMenuTriggerFor]="appMenu">
            <mat-icon>filter_list</mat-icon>
        </button>

        <span>{{ getCurrentGroup() || 'Tous' }}</span>
    </div>

    <span>({{ books.length }})</span>

    <span class="spacer"></span>

    <div *ngIf="responsive.isLargeScreen">
        <a *ngIf="serieView" mat-raised-button color="accent" routerLink="/books/series/edit/{{ serieView }}">
            <mat-icon>edit</mat-icon>
            Modifier la série
        </a>
        <a *ngIf="serieView" mat-raised-button color="warn" (click)="deleteSerie()">
            <mat-icon>delete</mat-icon>
            Supprimer la série
        </a>
        <a mat-raised-button color="accent" routerLink="/books/new">
            <mat-icon>add</mat-icon>
            Livre
        </a>
        <a mat-raised-button color="primary" routerLink="/books/series/new">
            <mat-icon>add</mat-icon>
            Série
        </a>
    </div>
</mat-toolbar>

<div class="body-content">
    <ul class="entries">
        <li class="entry oneshot-entry" *ngFor="let book of booksDisplay | keyvalue">
            <div>
                <a *ngIf="book.value.type" [routerLink]="['/books', 'view', book.value.id]">
                    <span class="cover" [ngStyle]="{'backgroundImage': 'url(' + book.value.cover + ')' }"></span>
                    <span class="name">{{ book.value.name }}</span>
                </a>
                <a *ngIf="!book.value.type" [routerLink]="['/books', 'series', book.value.id]">
                    <span class="ico-serie">
                        <mat-icon aria-label="Série">folder</mat-icon>
                    </span>
                    <span class="cover" [ngStyle]="{'backgroundImage': 'url(' + book.value.cover + ')' }"></span>
                    <span class="name">{{ book.value.name }}</span>
                </a>
            </div>
        </li>
    </ul>
</div>
